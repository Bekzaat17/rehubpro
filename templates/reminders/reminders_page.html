{% extends 'base.html' %}
{% load static %}
{% block title %}–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">üïí –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>

    <form method="post" action="{% url 'reminders:create_reminder' %}" class="card p-4 mb-4 shadow-sm">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-6 mb-3">
                {{ form.title.label_tag }} {{ form.title }}
            </div>
            <div class="col-md-6 mb-3">
                {{ form.datetime.label_tag }} {{ form.datetime }}
            </div>
            <div class="col-md-12 mb-3">
                {{ form.text.label_tag }} {{ form.text }}
            </div>
            <div class="col-md-6 mb-3">
                {{ form.repeat.label_tag }} {{ form.repeat }}
            </div>
            <div class="col-md-6 mb-3 d-flex align-items-end">
                <button type="submit" class="btn btn-primary w-100">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </form>

    <h4>–í–∞—à–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:</h4>
    <table class="table table-bordered table-striped mt-3">
        <thead class="table-light">
            <tr>
                <th>üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫</th>
                <th>üìù –û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>‚è∞ –î–∞—Ç–∞/–≤—Ä–µ–º—è</th>
                <th>üîÅ –ü–æ–≤—Ç–æ—Ä</th>
                <th>‚úÖ –ê–∫—Ç–∏–≤–Ω–æ?</th>
                <th>üóë</th>
            </tr>
        </thead>
        <tbody>
            {% for r in reminders %}
                <tr>
                    <td>{{ r.title }}</td>
                    <td>{{ r.text }}</td>
                    <td>{{ r.datetime|date:"d.m.Y H:i" }}</td>
                    <td>{{ r.get_repeat_display }}</td>
                    <td>{{ r.is_active|yesno:"–î–∞,–ù–µ—Ç" }}</td>
                    <td>
                        <form method="post" action="{% url 'reminders:delete_reminder' r.pk %}" style="display:inline;">
                            {% csrf_token %}
                            <button class="btn btn-danger btn-sm" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ?')">–£–¥–∞–ª–∏—Ç—å</button>
                        </form>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="6">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}