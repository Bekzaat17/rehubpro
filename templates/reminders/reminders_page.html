{% extends 'base.html' %}
{% load static %}

{% block title %}–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è{% endblock %}

{% block content %}
<div class="container mt-5 position-relative">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>üïí –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>
        <button id="createReminderBtn" class="btn btn-primary-custom">‚ûï –°–æ–∑–¥–∞—Ç—å</button>
    </div>

    <div id="remindersTableWrapper">
        {% include "reminders/_reminder_table.html" %}
    </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ -->
<div class="modal fade" id="reminderModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <form id="reminderForm">
        <div class="modal-header">
          <h5 class="modal-title" id="reminderModalTitle">–ù–æ–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
        </div>
        <div class="modal-body">
          {% csrf_token %}
          <input type="hidden" name="reminder_id" id="reminderIdInput">
          <div class="mb-3">
              <label for="titleInput">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
              <input type="text" class="form-control" name="title" id="titleInput" required>
          </div>
          <div class="mb-3">
              <label for="textInput">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea class="form-control" name="text" id="textInput"></textarea>
          </div>
          <div class="mb-3">
              <label for="datetimeInput">–ö–æ–≥–¥–∞ –Ω–∞–ø–æ–º–Ω–∏—Ç—å</label>
              <input type="datetime-local" class="form-control" name="datetime" id="datetimeInput" required>
          </div>
          <div class="mb-3">
              <label for="repeatSelect">–ü–æ–≤—Ç–æ—Ä</label>
              <select class="form-control" name="repeat" id="repeatSelect">
                  {% for key, label in form.repeat.field.choices %}
                      <option value="{{ key }}">{{ label }}</option>
                  {% endfor %}
              </select>
          </div>
          <div class="form-check mb-3">
              <input class="form-check-input" type="checkbox" name="is_active" id="isActiveInput" checked>
              <label class="form-check-label" for="isActiveInput">–ê–∫—Ç–∏–≤–Ω–æ</label>
          </div>
        </div>
        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-outline-danger me-auto d-none" id="deleteReminderBtn">–£–¥–∞–ª–∏—Ç—å</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="{% static 'js/reminders/reminders.js' %}"></script>
{% endblock %}