{% extends "base.html" %}
{% load static %}

{% block title %}Личный кабинет консультанта — {{ PROJECT_NAME }}{% endblock %}

{% block content %}
<style>
  /* Компактный стиль таблицы */
  #residents-table th,
  #residents-table td {
      font-size: 13px;
      padding: 4px 8px;
      line-height: 1.2;
      vertical-align: middle;
  }

  #residents-table tr {
      height: 24px;
  }

  #residents-table {
      border-collapse: collapse;
      width: 100%;
  }

  /* Цвета по колонкам (настраивается в JS по index) */
  td.col-colored-2 { color: #1976D2; }   /* Синий: Текущее задание */
  td.col-colored-3 { color: #388E3C; }   /* Зелёный: Последний прогресс */
  td.col-colored-4 { color: #F57C00; }   /* Оранжевый: Активные роли */
  td.col-colored-5 { color: #7B1FA2; }   /* Фиолетовый: Заметки */
  td.col-colored-6 { color: #D32F2F; }   /* Красный: Тип зависимости */
</style>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0"></h2>
    <button type="button" class="btn btn-primary-custom" data-bs-toggle="modal" data-bs-target="#addResidentModal">
        + Добавить резидента
    </button>
</div>

<div class="text-center mt-5">
    <table id="residents-table" class="table table-bordered">
        <thead><tr id="residents-header"></tr></thead>
        <tbody id="residents-body"></tbody>
    </table>
</div>

{% include "residents/add_modal.html" %}
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/residents_table.js' %}"></script>
{% endblock %}